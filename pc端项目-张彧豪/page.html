<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/page.css">
</head>

<body>

    <div class="wrapper">
        <aside class="aside">
            <div class="yellow">

            </div>
            <div class="top normal">

            </div>
            <ul class="middle">
                <li>
                    <i class="user"></i>
                    <em>尚品会员</em>
                </li>
                <li>
                    <i class="car"></i>
                    <em>购物车</em>
                </li>
                <li>
                    <i class="clock"></i>
                    <em>我的关注</em>
                </li>
                <li>
                    <i class="talk"></i>
                    <em>我的足迹</em>
                </li>
                <li>
                    <i class="message"></i>
                    <em>我的消息</em>
                </li>
                <li>
                    <i class="topArrow"></i>
                    <em>我的消息</em>
                </li>
            </ul>
            <div class="bottom">

            </div>
        </aside>
        <div class="header">
            <div class="top">
                <div class="container">
                    <div class="container-left">
                        <p>尚品汇欢迎您!</p>
                        <span>请</span>
                        <a href="#">登录</a>
                        <a href="#">免费注册</a>
                    </div>
                    <nav>
                        <a href="#">我的订单</a>
                        <a href="#">我的购物车</a>
                        <a href="#">我的尚品汇</a>
                        <a href="#">尚品汇会员</a>
                        <a href="#">企业采购</a>
                        <a href="#">关注尚品汇</a>
                        <a href="#">企业招商</a>
                        <a href="#">商家后台</a>
                    </nav>
                </div>

            </div>
            <div class="bottom">
                <h1>
                    <img src="img/images/Logo.png" alt="尚品汇">
                </h1>
                <div class="bottom-right">
                    <form action="#">
                        <input type="text">
                        <button>搜索</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="typeWrapper">
            <div class="type">
                <h2>全部商品分类</h2>
                <div class="typeList">
                    <a href="#">服装城</a>
                    <a href="#">美妆馆</a>
                    <a href="#">尚品汇超市</a>
                    <a href="#">全球购</a>
                    <a href="#">闪购</a>
                    <a href="#">团购</a>
                    <a href="#">有趣</a>
                    <a href="#">秒杀</a>
                </div>
            </div>
        </div>
        <main>
            <div class="main-top">

            </div>
            <div class="main-bottom">
                <div class="megaloscopeWrapper">
                    <div class="megaloscope">
                        <div class="imgWrapper">
                            <img src="img/images/b1.png" alt="手机">
                        </div>
                    </div>
                    <div class="abridge ">
                        <button class="left">&lt;</button>
                        <div class="search">
                            <div class="imgwrapper">

                            </div>
                        </div>
                        <button class="right">&gt;</button>
                    </div>
                </div>
                <div class="buy">
                    <div class="buyPrice">

                    </div>
                    <div class="choose">
                        <div class="choosed">

                        </div>
                    </div>
                    <div class="buygoods">
                        <div class="count">
                            <input type="text" value="1">
                            <div class="plus">+</div>
                            <div class="minus">-</div>
                        </div>
                        <div class="shoppingCar">
                            <a>加入购物车</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>


        <section>
            <!-- 侧边栏布局 -->
            <aside>
                <div class="title">
                    <h2 class="active">相关分类</h2>
                    <h2>推荐品牌</h2>
                </div>
                <div class="content">
                    <div class="content1 active">
                        <ul class="type">
                            <li>手机</li>
                            <li>手机壳</li>
                            <li>内存卡</li>
                            <li>Iphone配件</li>
                            <li>贴膜</li>
                            <li>手机耳机</li>
                            <li>移动电源</li>
                            <li>平板电脑</li>
                        </ul>
                        <ul class="img">
                            <li>
                                <div class="imgwrapper">
                                    <img src="img/images/part01.png" alt="">
                                </div>
                                <p>Apple苹果iPhone 6s (A1699)</p>
                                <p>¥6088.00</p>
                                <div class="aWrapper">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgwrapper">
                                    <img src="img/images/part02.png" alt="">
                                </div>
                                <p>Apple苹果iPhone 6s (A1699)</p>
                                <p>¥6088.00</p>
                                <div class="aWrapper">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgwrapper">
                                    <img src="img/images/part03.png" alt="">
                                </div>
                                <p>Apple苹果iPhone 6s (A1699)</p>
                                <p>¥6088.00</p>
                                <div class="aWrapper">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgwrapper">
                                    <img src="img/images/part01.png" alt="">
                                </div>
                                <p>Apple苹果iPhone 6s (A1699)</p>
                                <p>¥6088.00</p>
                                <div class="aWrapper">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgwrapper">
                                    <img src="img/images/part02.png" alt="">
                                </div>
                                <p>Apple苹果iPhone 6s (A1699)</p>
                                <p>¥6088.00</p>
                                <div class="aWrapper">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="content1 ">
                        推荐品牌
                    </div>
                </div>

            </aside>
            <div class="wrapper">
                <div class=" choosetype">
                    <h3>选择搭配</h3>
                    <div class="goods">
                        <div class="goodsprice">
                            <div class="imgwrapper">
                                <img src="img/images/l-m01.png" alt="">
                            </div>
                            <em>￥5299</em>
                            <i>+</i>
                        </div>
                        <ul class="otherthings">
                            <li>
                                <img src="img/images/dp01.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <input type="checkbox" value="39">
                                <em>39</em>
                            </li>
                            <li>
                                <img src="img/images/dp02.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <input type="checkbox" value="50">
                                <em>50</em>
                            </li>
                            <li>
                                <img src="img/images/dp03.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <input type="checkbox" value="59">
                                <em>59</em>
                            </li>
                            <li>
                                <img src="img/images/dp04.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <input type="checkbox" value="99">
                                <em>99</em>
                            </li>
                        </ul>
                        <div class="allPrice">
                            <p>已选购0件商品</p>
                            <p>套餐价</p>
                            <em>￥5299</em>
                            <a href="#">加入购物车</a>
                        </div>
                    </div>
                </div>
                <!-- 详情页评论区布局 -->
                <div class="goodsinformation">
                    <div class="allP">
                        <p class="active">
                            <a href="javascript:;">商品介绍</a>
                        </p>
                        <p>
                            <a href="javascript:;">规格与包装</a>
                        </p>
                        <p>
                            <a href="javascript:;">售后保障</a>
                        </p>
                        <p>
                            <a href="javascript:;">商品评价</a>
                        </p>
                        <p>
                            <a href="javascript:;">手机社区</a>
                        </p>
                    </div>
                    <div class="goodsDetail active">
                        <div class="info1">
                            <p>分辨率：1920*1080(FHD)</p>
                            <p>后置摄像头：1200万像素</p>
                            <p>前置摄像头：500万像素</p>
                            <p>核 数：其他</p>
                            <p>频 率：以官网信息为准</p>
                            <p>品牌： Apple</p>
                            <p>商品名称：APPLEiPhone 6s Plus</p>
                            <p>商品编号：1861098</p>
                            <p>商品产地：中国大陆</p>
                            <p>商品毛重：0.51kg</p>
                            <p>热点：指纹识别，Apple Pay，金属机身，拍照神器</p>
                            <p>系统：苹果（IOS）</p>
                            <p>像素：1000-1600万品毛重：0.51kg</p>
                            <p>机身内存：64GB</p>
                        </div>
                        <div class="info2">
                            <img src="img/images/intro01.png" alt="">
                        </div>
                        <div class="info3">
                            <img src="img/images/intro02.png" alt="">
                        </div>
                        <div class="info4">
                            <img src="img/images/intro03.png" alt="">
                        </div>
                    </div>
                    <div class="goodsDetail ">
                        规格与包装
                    </div>
                    <div class="goodsDetail">
                        售后保障
                    </div>
                    <div class="goodsDetail">
                        商品评价
                    </div>
                    <div class="goodsDetail">
                        手机社区
                    </div>
                </div>
            </div>
        </section>

        <div class="gusseslove">
            <h3>猜你喜欢</h3>
            <ul class="loveGoods">
                <li>
                    <div class="imgWrapper">
                        <img src="img/images/itemlike01.png" alt="">
                    </div>
                    <em>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</em>
                    <i>¥ 3699.00</i>
                    <p>已有6人评价</p>
                </li>
                <li>
                    <div class="imgWrapper">
                        <img src="img/images/itemlike02.png" alt="">
                    </div>
                    <em>Apple苹果iPhone 6s/6s Plus 16G 64G 128G</em>
                    <i>¥ 4388.00</i>
                    <p>已有700人评价</p>
                </li>
                <li>
                    <div class="imgWrapper">
                        <img src="img/images/itemlike03.png" alt="">
                    </div>
                    <em>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</em>
                    <i>¥ 4088.00</i>
                    <p>已有700人评价</p>
                </li>
                <li>
                    <div class="imgWrapper">
                        <img src="img/images/itemlike04.png" alt="">
                    </div>
                    <em>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</em>
                    <i>¥ 4088.00</i>
                    <p>已有700人评价</p>
                </li>
                <li>
                    <div class="imgWrapper">
                        <img src="img/images/itemlike05.png" alt="">
                    </div>
                    <em>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</em>
                    <i>¥ 4088.00</i>
                    <p>已有700人评价</p>
                </li>
                <li>
                    <div class="imgWrapper">
                        <img src="img/images/itemlike06.png" alt="">
                    </div>
                    <em>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</em>
                    <i>¥ 4088.00</i>
                    <p>已有700人评价</p>
                </li>
            </ul>
        </div>
        <div class="footerWrapper">
            <div class="footer">
                <ul class="information">
                    <li>
                        <h4>购物指南</h4>
                        <p>购物流程</p>
                        <p>会员介绍</p>
                        <p>生活旅行/团购</p>
                        <p>常见问题</p>
                        <p>购物指南</p>
                    </li>
                    <li>
                        <h4>配送方式</h4>
                        <p>上门自提</p>
                        <p>211限时达</p>
                        <p>配送服务查询</p>
                        <p>配送费收取标准</p>
                        <p>海外配送</p>
                    </li>
                    <li>
                        <h4>支付方式</h4>
                        <p>货到付款</p>
                        <p>在线支付</p>
                        <p>分期付款</p>
                        <p>邮局汇款</p>
                        <p>公司转账</p>
                    </li>
                    <li>
                        <h4>售后服务</h4>
                        <p>售后政策</p>
                        <p>价格保护</p>
                        <p>退款说明</p>
                        <p>返修/退换货</p>
                        <p>取消订单</p>
                    </li>
                    <li>
                        <h4>特色服务</h4>
                        <p>夺宝岛</p>
                        <p>DIY装机</p>
                        <p>延保服务</p>
                        <p>尚品汇E卡</p>
                        <p>尚品汇通信</p>
                    </li>
                    <li>
                        <h4>帮助中心</h4>
                        <img src="img/images/wx_cz.jpg" alt="">
                    </li>
                </ul>
                <ul class="aboutUs">
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                    <li>关于我们</li>
                </ul>
                <p>地址：北京市昌平区宏福科技园综合楼6层</p>
                <p>京ICP备19006430号</p>
            </div>
        </div>
    </div>
    <script src="data.js"></script>
    <script>
        window.addEventListener("DOMContentLoaded", function () {
            //设定商品数量初始值
            var n = 1;
            //
            var index = 0;
            //放大镜效果
            big();
            function big() {
                var imgsrc = goodData.imgsrc;

                // var oImgSrc = document.querySelector("main .main-bottom .megaloscopeWrapper .megaloscope .imgWrapper img");
                // oImgSrc.src = imgsrc[index].s;我认为这步没有用

                var oLoscope = document.querySelector("main .main-bottom .megaloscopeWrapper .megaloscope");
                var oImg = document.querySelector("main .main-bottom .megaloscopeWrapper .megaloscope .imgWrapper");
                var megaloscope = document.querySelector("main .main-bottom .megaloscopeWrapper .megaloscope");
                var mask = null;
                var bigImg = null;
                var bigMask = null;
                oLoscope.onmouseenter = function () {
                    console.log(1);
                    if (mask == null) {
                        console.log(2);
                        mask = document.createElement("div");
                        mask.className = "mask";
                        oImg.appendChild(mask);
                        bigImg = document.createElement("div");
                        bigImg.className = "bigImg";
                        megaloscope.appendChild(bigImg);
                        bigMask = document.createElement("img");
                        bigMask.className = "bigMask";
                        //将
                        bigMask.src = imgsrc[index].b;


                        bigImg.appendChild(bigMask);
                        var sacle = (bigMask.clientHeight - bigImg.offsetHeight) / (oImg.clientHeight - mask.offsetHeight);
                        oLoscope.onmousemove = function (e) {
                            var endX = e.clientX - mask.offsetWidth / 2 - oLoscope.getBoundingClientRect().left;
                            var endY = e.clientY - mask.offsetHeight / 2 - oLoscope.getBoundingClientRect().top;
                            if (endX <= 0) {
                                endX = 0;
                            } else if (endX >= oLoscope.clientWidth - mask.offsetWidth) {
                                endX = oLoscope.clientWidth - mask.offsetWidth;
                            }
                            if (endY <= 0) {
                                endY = 0;
                            } else if (endY >= oLoscope.clientHeight - mask.offsetHeight) {
                                endY = oLoscope.clientHeight - mask.offsetHeight;
                            }
                            mask.style.left = endX + "px";
                            mask.style.top = endY + "px";
                            bigMask.style.left = -endX * sacle + "px";
                            bigMask.style.top = -endY * sacle + "px";
                        }
                    }
                    oLoscope.onmouseleave = function () {
                        console.log(3);
                        megaloscope.removeChild(bigImg);
                        oImg.removeChild(mask);
                        bigImg = null;
                        mask = null;
                        bigMask = null
                        oLoscope.onmousemove = null;
                        oLoscope.onmouseleave = null;
                    }
                }

            }
            function getStyle(obj, arr) {
                if (obj.currentStyle) {
                    return obj.currentStyle[arr];
                } else {
                    return document.defaultView.getComputedStyle(obj, null)[arr];
                }
            }

            //缩略图的移动
            small();
            function small() {
                var picturesWrapper = document.querySelector("main .main-bottom .megaloscopeWrapper .abridge .search .imgwrapper");
                //动态生成缩略图
                var imgSrc = goodData.imgsrc;
                imgSrc.forEach(function (value) {
                    var divNode = document.createElement("div");
                    var img = new Image();
                    img.src = value.s;
                    divNode.appendChild(img);
                    picturesWrapper.appendChild(divNode);
                });

                var nextBtn = document.querySelector("main .main-bottom .megaloscopeWrapper .abridge .right");
                var preBtn = document.querySelector("main .main-bottom .megaloscopeWrapper .abridge .left");

                var pictures = document.querySelectorAll("main .main-bottom .megaloscopeWrapper .abridge .search .imgwrapper div")
                var search = document.querySelector("main .main-bottom .megaloscopeWrapper .abridge .search ")
                var starPosition = 0;
                var stepsLength = pictures[0].offsetWidth * 2 + parseInt(getStyle(pictures[0], "marginRight")) * 2;
                var otherLength = pictures[0].offsetWidth * 10 + parseInt(getStyle(pictures[0], "marginRight")) * 10 - search.clientWidth;
                nextBtn.onclick = function () {

                    if (otherLength - starPosition > stepsLength) {
                        starPosition += stepsLength;
                    } else {
                        starPosition = otherLength;
                    }

                    picturesWrapper.style.left = -starPosition + "px";
                }
                preBtn.onclick = function () {
                    starPosition -= stepsLength;

                    if (starPosition <= 0) {
                        starPosition = 0;
                        console.log(starPosition);
                    }
                    picturesWrapper.style.left = -starPosition + "px";
                }
            }

            //缩略图与放大镜的交互
            mix();
            function mix() {
                //获取到每张缩略图
                var pictures = document.querySelectorAll("main .main-bottom .megaloscopeWrapper .abridge .search .imgwrapper div img");
                var oImg = document.querySelector("main .main-bottom .megaloscopeWrapper .megaloscope .imgWrapper img");
                for (var i = 0; i < pictures.length; i++) {
                    pictures[i].onclick = function () {
                        oImg.src = this.src;

                        for (var i = 0; i < pictures.length; i++) {

                            if (pictures[i] == this) {
                                //把点击的缩略图的下标保存起来
                                index = i;
                            }
                        }
                    }
                }

            }

            //商品内容详情数据结构生成
            goodsStructure();
            function goodsStructure() {
                //获取删掉的删除区域
                var choose = document.querySelector("main .main-bottom .buy .choose");


                var crumbData = goodData.goodsDetail.crumbData;
                crumbData.forEach(function (value, index) {
                    var dlNode = document.createElement("dl");
                    var dtNode = document.createElement("dt");
                    dtNode.innerHTML = value.title;
                    dlNode.appendChild(dtNode);
                    value.data.forEach(function (value, index) {
                        var ddNode = document.createElement("dd");
                        ddNode.innerHTML = value.type;
                        ddNode.setAttribute("changeprice", value.changePrice);
                        dlNode.appendChild(ddNode);
                    })
                    choose.appendChild(dlNode);
                })
                //对新生层的dd进行事件绑定
                var dl = choose.getElementsByTagName("dl");
                var choosed = document.querySelector("main .main-bottom .buy .choose .choosed");
                var arr = new Array(dl.length);
                arr.fill(0);
                for (var i = 0; i < dl.length; i++) {
                    dl[i].index = i;
                    ~function () {
                        var dd = dl[i].getElementsByTagName("dd");
                        for (var j = 0; j < dd.length; j++) {
                            dd[j].onclick = function () {
                                for (var i = 0; i < dd.length; i++) {
                                    dd[i].style.color = "#666";
                                }
                                this.style.color = "red";
                                arr[this.parentNode.index] = this;
                                changePrice(arr);
                                choosed.innerHTML = "";
                                arr.forEach(function (value, index) {
                                    if (value) {
                                        var mark = document.createElement("div");
                                        mark.innerHTML = value.innerHTML;
                                        mark.className = "mark";
                                        var xNode = document.createElement("a");
                                        xNode.setAttribute("num", index);
                                        xNode.innerHTML = "X";
                                        mark.appendChild(xNode);
                                        choosed.appendChild(mark);
                                    }
                                })

                                //删除功能
                                var aNode = document.querySelectorAll("main .main-bottom .buy .choose .choosed .mark a")
                                for (var i = 0; i < aNode.length; i++) {
                                    aNode[i].onclick = function () {
                                        //删除块块
                                        this.parentNode.parentNode.removeChild(this.parentNode);
                                        //改变颜色
                                        var num = parseInt(this.getAttribute("num"));
                                        var ddNode = dl[num].querySelectorAll("dd");
                                        ddNode.forEach(function (value, index) {
                                            value.style.color = "#666";
                                        })
                                        dl[num].querySelector("dd:first-of-type").style.color = "red";
                                        //删除数组中的内容
                                        arr[num] = 0;
                                        changePrice(arr);
                                    }
                                }
                            }
                        }
                    }();

                }
                //改变价格的功能
                function changePrice(arr) {
                    var priceWrapper = document.querySelector("main .main-bottom .buy .price .top .priceDetails");
                    var newPrice = goodData.goodsDetail.price;
                    arr.forEach(function (value, index) {
                        if (value) {
                            newPrice += parseInt(value.getAttribute("changeprice"));
                            console.log(newPrice);
                        }
                        priceWrapper.innerHTML = newPrice * n;

                    })
                    //改变手机配置变换下方的价格
                    var goodsPrice = document.querySelector("section .wrapper .choosetype .goods .goodsprice em");
                    goodsPrice.innerHTML = "￥" + newPrice * n;

                    var allgoodsPrice = document.querySelector("section .wrapper .choosetype .goods .allPrice em");
                    var goodsPrice = parseInt(document.querySelector("main .main-bottom .buy .price .top .priceDetails").innerHTML);
                    var input = document.querySelectorAll("section .wrapper .choosetype .goods .otherthings li input");
                    input.forEach(function (value, index) {
                        if (value.checked == true) {
                            goodsPrice += parseInt(value.value);

                        }
                    })
                    allgoodsPrice.innerHTML = "￥" + goodsPrice;
                }
            }

            //商品数量加减
            goodsCount();
            function goodsCount() {
                var plusBtn = document.querySelector("main .main-bottom .buy .buygoods .count .plus");
                var minusBtn = document.querySelector("main .main-bottom .buy .buygoods .count .minus");
                var inputNode = document.querySelector("main .main-bottom .buy .buygoods .count input");

                plusBtn.onclick = function () {
                    n++;
                    inputNode.value = n;

                    var price = document.querySelector("main .main-bottom .buy .price .top .priceDetails");
                    price.innerHTML = (price.innerHTML / (n - 1)) * n;
                    countchange();
                }
                minusBtn.onclick = function () {
                    if (n > 1) {
                        n--;
                        inputNode.value = n;
                        var price = document.querySelector("main .main-bottom .buy .price .top .priceDetails");
                        price.innerHTML = (price.innerHTML / (n + 1)) * n;
                        countchange();
                    }
                }

                function countchange() {
                    var allgoodsPrice = document.querySelector("section .wrapper .choosetype .goods .allPrice em");
                    var goodsPrice = parseInt(document.querySelector("main .main-bottom .buy .price .top .priceDetails").innerHTML);
                    var input = document.querySelectorAll("section .wrapper .choosetype .goods .otherthings li input");
                    input.forEach(function (value, index) {
                        if (value.checked == true) {
                            goodsPrice += parseInt(value.value);

                        }
                    })
                    allgoodsPrice.innerHTML = "￥" + goodsPrice;
                }
            }

            //路径数据动态生成
            road();
            function road() {
                var aWrapper = document.querySelector("main .main-top");
                var aData = goodData.path;
                aData.forEach(function (value, index) {
                    var aNode = document.createElement("a");
                    aNode.innerHTML = value.title;
                    if (index !== aData.length - 1); {
                        aNode.src = value.url;
                    }
                    aWrapper.appendChild(aNode);
                })
            }

            //商品内容数据动态生成
            gooodsPrice();
            function gooodsPrice() {
                var goodsContent = document.querySelector("main .main-bottom .buy .buyPrice");
                var str = `<h2>${goodData.goodsDetail.title}</h2>
                    <h3>${goodData.goodsDetail.recommend}</h3>
                    <div class="price">
                        <div class="top">
                            <div class="top-left">
                                价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格
                            </div>
                            <span>¥</span>
                            <span class="priceDetails">${goodData.goodsDetail.price}</span>
                            <span>降价通知</span>
                            <div class="top-right">
                                <span>累计评价 ${goodData.goodsDetail.evaluateNum}</span>
                            </div>
                        </div>
                        <div class="bottom">
                            <div class="bottom-left">
                                促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销
                            </div>
                            <div class="bottom-right">
                                <i>${goodData.goodsDetail.promoteSales.type}</i>
                                <em>
                                    ${goodData.goodsDetail.promoteSales.content}
                                </em>
                            </div>
                        </div>
                    </div>
                    <div class="support">
                        <div class="top">
                            <div class="left">
                                支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持
                            </div>
                            <div class="right">
                                ${goodData.goodsDetail.support}
                            </div>
                        </div>
                        <div class="down">
                            <div class="left">
                                配&nbsp;&nbsp;送&nbsp;&nbsp;至
                            </div>
                            <div class="right">
                                ${goodData.goodsDetail.address}
                            </div>
                        </div>
                    </div>`;
                goodsContent.innerHTML = str;
            }

            //选项卡切换方法1
            // tabExchange();
            // function tabExchange() {
            //     var tabbtn = document.querySelectorAll("section aside .title h2");
            //     var conbtn = document.querySelectorAll("section aside .content .content1");

            //     for (i = 0; i < tabbtn.length; i++) {
            //         tabbtn[i].index = i;
            //         tabbtn[i].onclick = function () {
            //             for (i = 0; i < tabbtn.length; i++) {
            //                 tabbtn[i].className = "";
            //                 conbtn[i].className = "content1";
            //             }
            //             this.className = "active";
            //             console.log(conbtn);
            //             conbtn[this.index].className = "content1 active";
            //         }
            //     }
            // }

            // 选项卡切换方法2
            // tabExchange();
            // function tabExchange() {
            //     var tabbtn = document.querySelectorAll("section aside .title h2");
            //     var conbtn = document.querySelectorAll("section aside .content .content1");

            //     for (i = 0; i < tabbtn.length; i++) {
            //         tabbtn[i].onclick = function () {
            //             for (i = 0; i < tabbtn.length; i++) {
            //                 if (this == tabbtn[i]) {
            //                     this.className = "active";
            //                     conbtn[i].className = "content1 active";
            //                 } else {
            //                     tabbtn[i].className = "";
            //                     conbtn[i].className = "content1";
            //                 }

            //             }

            //         }
            //     }
            // }

            //选项卡切换方法3（高端写法但是用的并不是很多）
            function tabExchange(btn, content) {
                this.tabbtn = btn;
                this.conbtn = content;
                var _this = this;
                for (var i = 0; i < this.tabbtn.length; i++) {
                    this.tabbtn[i].index = i;
                    this.tabbtn[i].onclick = function () {
                        _this.clickBtn(this);
                    }
                }

            };
            tabExchange.prototype.clickBtn = function (that) {
                for (var i = 0; i < this.tabbtn.length; i++) {
                    this.tabbtn[i].className = "";
                    this.conbtn[i].style.display = "none";
                }
                that.className = "active";
                this.conbtn[that.index].style.display = "block";
            }

            //紧接着调用这个方法
            usetabExchange();
            function usetabExchange() {
                var tabbtn = document.querySelectorAll("section aside .title h2");
                var conbtn = document.querySelectorAll("section aside .content .content1");
                new tabExchange(tabbtn, conbtn);
                var tabbtn1 = document.querySelectorAll("section .wrapper .goodsinformation .allP p");
                var conbtn1 = document.querySelectorAll("section .wrapper .goodsinformation .goodsDetail");
                new tabExchange(tabbtn1, conbtn1);
            };

            //新增配件改变价钱功能
            addMoney();
            function addMoney() {
                var input = document.querySelectorAll("section .wrapper .choosetype .goods .otherthings li input");
                var allgoodsPrice = document.querySelector("section .wrapper .choosetype .goods .allPrice em");
                for (i = 0; i < input.length; i++) {
                    input[i].onchange = function () {
                        var goodsPrice = parseInt(document.querySelector("main .main-bottom .buy .price .top .priceDetails").innerHTML);
                        console.log(1);
                        for (i = 0; i < input.length; i++) {
                            if (input[i].checked == true) {
                                console.log(input[i].value);
                                goodsPrice += parseInt(input[i].value);
                            }
                        }
                        allgoodsPrice.innerHTML = "￥" + goodsPrice;
                    }
                }
            }

            asideShow();
            function asideShow() {
                var Xnode = document.querySelector(".wrapper > aside .top");
                var asideNode = document.querySelector(".wrapper > aside");
                var iNode = document.querySelectorAll(".wrapper > aside .middle li i");
                var eNode = document.querySelectorAll(".wrapper > aside .middle li em");
                var flag = true;
                Xnode.onclick = function () {
                    if (flag) {
                        asideNode.style.right = "0px";
                        Xnode.className = "top active"
                    } else {
                        asideNode.style.right = "-294px";
                        Xnode.className = "top normal"
                    }
                    flag = !flag;
                }
                iNode.forEach(function (value, index) {
                    value.onmouseenter = function () {
                        var ePosition = eNode[index].offsetLeft;
                        console.log(ePosition);
                        // var timer = null;
                        this.style.backgroundColor = "#cc1122";
                        eNode[index].style.backgroundColor = "#cc1122";
                        eNode[index].style.left = "-67px";
                        // timer = setInterval(function () {
                        //     ePosition -= 2;

                        //     if (ePosition <= -67) {
                        //         clearInterval(timer);
                        //     } else {
                        //         eNode[index].style.left = ePosition + "px";
                        //     }
                        // }, 16)
                    }
                    value.onmouseleave = function () {
                        var ePosition = eNode[index].offsetLeft;
                        this.style.backgroundColor = "#7a6e6e";
                        eNode[index].style.backgroundColor = "#7a6e6e";
                        eNode[index].style.left = "35px";
                        // var timer = null;
                        // timer = setInterval(function () {
                        //     ePosition += 2;

                        //     if (ePosition >= 35) {
                        //         clearInterval(timer);
                        //     } else {
                        //         eNode[index].style.left = ePosition + "px";
                        //     }
                        // }, 16)
                    }
                })
            }

            // 向页面2传递数据
            page2();
            function page2() {
                var nextPage = document.querySelector("main .main-bottom .buy .buygoods .shoppingCar a ");
                nextPage.onclick = function () {
                    var goodImg = "img/images/goods1.png";
                    var goodTitle = document.querySelector("main .main-bottom .buy h2").innerHTML;
                    var goodTxt = "国民最爱";
                    var goodPrice = document.querySelector("main .main-bottom .buy .price .top .priceDetails").innerHTML;
                    var goodNum = parseInt(document.querySelector("main .main-bottom .buy .buygoods .count input").value);
                    var obj = {
                        goodImg: goodImg,
                        goodTitle: goodTitle,
                        goodTxt: goodTxt,
                        goodPrice: goodPrice,
                        goodNum: goodNum
                    }
                    localStorage.setItem("obj", JSON.stringify(obj));
                    location.href = "page2.html";
                }
            }
        })
    </script>
</body>

</html>