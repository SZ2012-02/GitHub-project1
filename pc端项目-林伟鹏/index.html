<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div class="outer">
        <!-- 头部 -->
        <div class="headerWrap">
            <!-- 顶层注册订单栏 -->
            <div class="headerBar">
                <div class="container">
                    <!-- 登陆 -->
                    <div class="login">
                        <p>尚品汇欢迎您！</p>
                        <p>
                            <span>请</span>
                            <a href="#">登陆</a>
                            <a href="#" class="register">免费注册</a>
                        </p>
                    </div>

                    <!-- 右侧订单栏 -->
                    <div class="order">
                        <a href="###">我的订单</a>
                        <a href="###">我的购物车</a>
                        <a href="###">我的尚品汇</a>
                        <a href="###">尚品汇会员</a>
                        <a href="###">企业采购</a>
                        <a href="###">关注尚品汇</a>
                        <a href="###">合作招商</a>
                        <a href="###">商家后台</a>
                    </div>
                </div>
            </div>

            <div class="logo">
                <div class="logoArea">
                    <a href="#" title="尚品汇" target="_blank">
                        <img src="./images/Logo.png" alt="">
                    </a>
                </div>

                <div class="searchBar">
                    <form action="#" class="searchForm">
                        <input type="text">
                        <button>搜索</button>
                    </form>
                </div>

            </div>

        </div>

        <!-- 菜单栏分栏 -->
        <div class="typeNav">
            <div class="container">
                <h1 class="all">全部商品分类</h1>
                <nav class="nav">
                    <a href="###">服装城</a>
                    <a href="###">美妆馆</a>
                    <a href="###">尚品汇超市</a>
                    <a href="###">全球购</a>
                    <a href="###">闪购</a>
                    <a href="###">团购</a>
                    <a href="###">有趣</a>
                    <a href="###">秒杀</a>
                </nav>
            </div>
        </div>

        <!-- 路径 -->
        <div class="con">
            <div class="conPoin">
                <!-- <a href="#">手机、数码、通讯</a>
                <a href="#">手机</a>
                <a href="#">Apple苹果</a>
                <a>iPhone 6S系列</a> -->
            </div>

            <div class="mainCon">
                <div class="previewWrap">
                    <div class="preview">
                        <div class="jqzoom">
                            <img src="./images/s1.png" alt="">
                        </div>
                    </div>

                    <div class="specScroll">
                        <a href="#" class="prev">&lt;</a>
                        <div class="photoWrap">
                            <div class="photo">
                                <!-- <img src="./images/s1.png" alt="">
                                <img src="./images/s2.png" alt="">
                                <img src="./images/s3.png" alt="">
                                <img src="./images/s1.png" alt="">
                                <img src="./images/s2.png" alt="">
                                <img src="./images/s3.png" alt="">
                                <img src="./images/s1.png" alt="">
                                <img src="./images/s2.png" alt="">
                                <img src="./images/s3.png" alt="">
                                <img src="./images/s3.png" alt=""> -->
                            </div>
                        </div>
                        <a href="#" class="next">&gt;</a>
                    </div>

                </div>
                <!-- 右侧商品促销信息 -->

                <div class="information">

                    <div class="infoma1"></div>

                    <div class="chooseArea">
                        <div class="choose">
                            <div class="creachoose">

                            </div>
                        </div>
                    </div>

                    <div class="carWrap">
                        <div class="pmt">
                            <form action="#">
                                <input class="itext" type="text" value="1">
                                <a href="###" class="plus">+</a>
                                <a href="###" class="mins">-</a>
                            </form>
                        </div>
                        <div class="addToCar">
                            <a href="#">加入购物车</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- 商品侧边栏 -->
        <div class="itemSuges">
            <aside class="outBoxs">
                <!-- 标题 -->
                <div class="title2">
                    <h4 class="active">相关分类</h4>
                    <h4>推荐品牌</h4>
                </div>
                <!-- 内容区 -->
                <div class="contentBar">
                    <div class="brand active">
                        <ul class="contentListNav">
                            <li>手机</li>
                            <li>手机壳</li>
                            <li>内存卡</li>
                            <li>Iphone配件</li>
                            <li>贴膜</li>
                            <li>手机耳机</li>
                            <li>移动电源</li>
                            <li>平板电脑</li>
                        </ul>

                        <ul class="listNav">
                            <li>
                                <div class="imgB">
                                    <img src="./images/part01.png" alt="">
                                </div>
                                <h5>Apple苹果iPhone 6s (A1699)</h5>
                                <i>￥</i><span>6088.00</span>

                                <div class="herfff">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgB">
                                    <img src="./images/part02.png" alt="">
                                </div>
                                <h5>Apple苹果iPhone 6s (A1699)</h5>
                                <i>￥</i><span>6088.00</span>

                                <div class="herfff">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgB">
                                    <img src="./images/part03.png" alt="">
                                </div>
                                <h5>Apple苹果iPhone 6s (A1699)</h5>
                                <i>￥</i><span>6088.00</span>

                                <div class="herfff">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgB">
                                    <img src="./images/part01.png" alt="">
                                </div>
                                <h5>Apple苹果iPhone 6s (A1699)</h5>
                                <i>￥</i><span>6088.00</span>

                                <div class="herfff">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="imgB">
                                    <img src="./images/part02.png" alt="">
                                </div>
                                <h5>Apple苹果iPhone 6s (A1699)</h5>
                                <i>￥</i><span>6088.00</span>

                                <div class="herfff">
                                    <a href="#">加入购物车</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="brand">
                        推荐品牌
                    </div>
                </div>
            </aside>
            <div class="menuRight">
                <div class="menuBox">
                    <h5>选择搭配</h5>
                    <div class="mainMenu">
                        <div class="leftItem">
                            <img src="./images/l-m01.png" alt="">
                            <p>￥5299</p>
                            <i>+</i>
                        </div>


                        <ul class="itemSuges">
                            <li class="itemSuges1">
                                <img src="./images/dp01.png" alt="">
                                <span>Feless 费勒斯VR</span>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                            <li class="itemSuges1">
                                <img src="./images/dp02.png" alt="">
                                <span>Feless 费勒斯VR</span>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                            <li class="itemSuges1">
                                <img src="./images/dp03.png" alt="">
                                <span>Feless 费勒斯VR</span>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                            <li class="itemSuges1">
                                <img src="./images/dp04.png" alt="">
                                <span>Feless 费勒斯VR</span>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                        </ul>

                        <div class="result">
                            <div class="had">已选购0件商品</div>
                            <p class="pp1">套餐价</p>
                            <p class="pp2">￥5299</p>
                            <div class="addCar">
                                <a href="#">加入购物车</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="introdu">
                    <ul class="introBar">
                        <li class="active">
                            <a href="###">商品介绍</a>
                        </li>
                        <li class="">
                            <a href="###">规格与包装</a>
                        </li>
                        <li class="">
                            <a href="###">售后保障</a>
                        </li>
                        <li class="">
                            <a href="###">商品评价</a>
                        </li>
                        <li class="">
                            <a href="###">手机社区</a>
                        </li>
                    </ul>
                    <div class="itemDetail">
                        <div class="itemDetailList">
                            <div class="itemDetail active">
                                <ul class="goodsInfo">
                                    <li>分辨率：1920*1080(FHD)</li>
                                    <li>后置摄像头：1200万像素</li>
                                    <li>前置摄像头：500万像素</li>
                                    <li>核 数：其他</li>
                                    <li>频 率：以官网信息为准</li>
                                    <li>品牌： Apple</li>
                                    <li>商品名称：APPLE iPhone 6s Plus</li>
                                    <li>商品编号：1861098</li>
                                    <li>商品产地：中国大陆</li>
                                    <li>商品毛重：0.51kg</li>
                                    <li>热点：指纹识别,Apple Pay,金属机身,拍照神器</li>
                                    <li>系统：苹果 (IOS) </li>
                                    <li>像素：1000-1600万品毛重：0.51kg</li>
                                    <li>机身内存：64GB</li>
                                </ul>
                                <div class="photoDetail">
                                    <img src="./images/intro01.png" alt="">
                                    <img src="./images/intro02.png" alt="">
                                    <img src="./images/intro03.png" alt="">
                                </div>
                            </div>
                            <div class="itemDetail">规格与包装</div>
                            <div class="itemDetail">售后保障</div>
                            <div class="itemDetail">商品评价</div>
                            <div class="itemDetail">手机社区</div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 猜你喜欢 -->
        <div class="guessYouLikeBox">
            <h4 class="guessYouLikeTitle">猜你喜欢</h4>
            <div class="gylItem">
                <ul class="listMenu1">
                    <li class="listDetail">
                        <img src="./images/itemlike01.png" alt="">
                        <p>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                        <i class="ppp">￥3699.00</i>
                        <p class="comment">已有6人评价</p>
                    </li>
                    <li class="listDetail">
                        <img src="./images/itemlike02.png" alt="">
                        <p>Apple苹果iPhone 6s/6s Plus 16G 64G 128G</p>
                        <i class="ppp">￥4388.00</i>
                        <p class="comment">已有700人评价</p>
                    </li>
                    <li class="listDetail">
                        <img src="./images/itemlike03.png" alt="">
                        <p>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                        <i class="ppp">￥4088.00</i>
                        <p class="comment">已有700人评价</p>
                    </li>
                    <li class="listDetail">
                        <img src="./images/itemlike04.png" alt="">
                        <p>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                        <i class="ppp">￥4088.00</i>
                        <p class="comment">已有700人评价</p>
                    </li>
                    <li class="listDetail">
                        <img src="./images/itemlike05.png" alt="">
                        <p>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                        <i class="ppp">￥4088.00</i>
                        <p class="comment">已有700人评价</p>
                    </li>
                    <li class="listDetail">
                        <img src="./images/itemlike06.png" alt="">
                        <p>DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                        <i class="ppp">￥3699.00</i>
                        <p class="comment">已有6人评价</p>
                    </li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <div class="footerWrap">
                <div class="service no1">
                    <h5>购物指南</h5>
                    <ul>
                        <li>购物流程</li>
                        <li>会员介绍</li>
                        <li>生活旅行/团购</li>
                        <li>常见问题</li>
                        <li>购物指南</li>
                    </ul>
                </div>
                <div class="service">
                    <h5>配送方式</h5>
                    <ul>
                        <li>上门自提</li>
                        <li>211限时达</li>
                        <li>配送服务查询</li>
                        <li>配送费收取标准</li>
                        <li>海外配送</li>
                    </ul>
                </div>
                <div class="service">
                    <h5>支付方式</h5>
                    <ul>
                        <li>货到付款</li>
                        <li>在线支付</li>
                        <li>分期付款</li>
                        <li>邮局汇款</li>
                        <li>公司转账</li>
                    </ul>
                </div>
                <div class="service">
                    <h5>售后服务</h5>
                    <ul>
                        <li>售后政策</li>
                        <li>价格保护</li>
                        <li>退款说明</li>
                        <li>返修/退换货</li>
                        <li>取消订单</li>
                    </ul>
                </div>
                <div class="service">
                    <h5>特色服务</h5>
                    <ul>
                        <li>夺命岛</li>
                        <li>DIY装机</li>
                        <li>延保服务</li>
                        <li>尚品汇E卡</li>
                        <li>尚品汇通信</li>
                    </ul>
                </div>

                <div class="help">
                    <h5>帮助中心</h5>
                    <img src="./images/wx_cz.jpg" alt="">
                </div>



            </div>

            <div class="aboutUs">
                <ul class="helpLink">
                    <li>
                        关于我们<span class="lin"></span>
                    </li>
                    <li>
                        联系我们<span class="lin"></span>
                    </li>
                    <li>
                        关于我们<span class="lin"></span>
                    </li>
                    <li>
                        商家入驻<span class="lin"></span>
                    </li>
                    <li>
                        营销中心<span class="lin"></span>
                    </li>
                    <li>
                        友情链接<span class="lin"></span>
                    </li>
                    <li>
                        关于我们<span class="lin"></span>
                    </li>
                    <li>
                        营销中心<span class="lin"></span>
                    </li>
                    <li>
                        友情链接<span class="lin"></span>
                    </li>
                    <li>
                        关于我们<span class="lin nn2"></span>
                    </li>
                </ul>
                <p>地址：北京市昌平区宏福科技园综合楼6层</p>
                <p class="address">京ICP备19006430号</p>
            </div>
        </div>
    </div>

    <script src="./js/data.js"></script>

    <script>
        window.addEventListener("DOMContentLoaded", function () {
            //声明一个略缩头变量
            var photoFir = 0;
            var globalPrice = 1;
            //01 放大镜效果
            magnifier();
            function magnifier() {


                var imgsrc = goodData.imgsrc;
                var oPhoto = document.querySelector(".outer .con .mainCon .previewWrap .preview .jqzoom img")
                oPhoto.src = imgsrc[photoFir].s;


                var oProview = document.querySelector(".outer .con .mainCon .previewWrap .preview")
                var oJqzoom = document.querySelector(".outer .con .mainCon .previewWrap .preview .jqzoom")
                oMask = null;
                oMaxBox = null;
                oMaxImg = null;

                oProview.onmouseenter = function () {
                    if (!oMask) {
                        oMask = document.createElement("div");
                        oMask.className = "mask";
                        oJqzoom.appendChild(oMask);

                    }
                    if (!oMaxBox) {
                        oMaxBox = document.createElement("div");
                        oMaxBox.className = "maxbox"
                        oMaxImg = new Image();
                        oMaxImg.src = imgsrc[photoFir].b;
                        oMaxBox.appendChild(oMaxImg)
                        oProview.appendChild(oMaxBox)
                    }

                    oJqzoom.onmousemove = function (e) {
                        var oMaskPosition = {
                            left: e.clientX - oMask.offsetWidth / 2 - oJqzoom.getBoundingClientRect().left,
                            top: e.clientY - oMask.offsetHeight / 2 - oJqzoom.getBoundingClientRect().top
                        }
                        if (oMaskPosition.left <= 0) {
                            oMaskPosition.left = 0
                        } else if (oMaskPosition.left >= oJqzoom.clientWidth - oMask.offsetWidth) {
                            oMaskPosition.left = oJqzoom.clientWidth - oMask.offsetWidth
                        }
                        if (oMaskPosition.top <= 0) {
                            oMaskPosition.top = 0
                        } else if (oMaskPosition.top >= oJqzoom.clientHeight - oMask.offsetHeight) {
                            oMaskPosition.top = oJqzoom.clientHeight - oMask.offsetHeight
                        }
                        oMask.style.left = oMaskPosition.left + "px"
                        oMask.style.top = oMaskPosition.top + "px"

                        var scale = (oJqzoom.clientWidth - oMask.offsetWidth) / (oMaxImg.offsetWidth - oMaxBox.clientWidth)

                        var omaxboxPosition = {
                            left: oMaskPosition.left / scale,
                            top: oMaskPosition.top / scale
                        }
                        oMaxImg.style.marginLeft = - omaxboxPosition.left + "px"
                        oMaxImg.style.marginTop = - omaxboxPosition.top + "px"



                    }

                    oProview.onmouseleave = function () {
                        oJqzoom.removeChild(oMask);
                        oProview.removeChild(oMaxBox);
                        oMask = null;
                        oMaxBox = null;
                        oMaxImg = null;
                        oJqzoom.onmousemove = null;
                        oProview.onmouseleave = null;
                    }


                }
            }

            //获取margin
            function getStyle(obj, attr) {
                if (obj.currentStyle) {
                    return obj.currentStyle[attr];
                } else {
                    return window.getComputedStyle(obj, null)[attr];
                }
                // console.log([attr])
            }


            //02 缩略图滑动效果
            thumbnail();
            function thumbnail() {
                var oSpecscrollBox = document.querySelector(".outer .con .mainCon .previewWrap .specScroll .photoWrap .photo ")
                var imgSrc = goodData.imgsrc;
                imgSrc.forEach(function (item) {
                    var pho = new Image();
                    pho.src = item.s;
                    oSpecscrollBox.appendChild(pho)
                })






                var oSpecscroll = document.querySelectorAll(".outer .con .mainCon .previewWrap .specScroll .photoWrap .photo img ")

                var oPrev = document.querySelector(".outer .con .mainCon .previewWrap .specScroll .prev ")
                var oNext = document.querySelector(".outer .con .mainCon .previewWrap .specScroll .next ")
                //初始移动距离
                var initialLength = 0;
                var viewNum = 5;
                var moveNum = 2;
                //求出一个总的长度
                var canMove = (oSpecscroll.length - viewNum) * (oSpecscroll[0].offsetWidth + parseInt(getStyle(oSpecscroll[0], "marginRight")))
                var moveDistace = (oSpecscroll[0].offsetWidth + parseInt(getStyle(oSpecscroll[0], "marginRight"))) * moveNum;
                oSpecscrollBox.style.transition = "all 200ms linear"
                //添加下一页点击事件
                oNext.onclick = function () {
                    if (initialLength < canMove) {
                        if (canMove - initialLength > moveDistace) {
                            initialLength += moveDistace;
                            oSpecscrollBox.style.left = -initialLength + "px";
                        } else {
                            initialLength += (canMove - initialLength)
                            oSpecscrollBox.style.left = -initialLength + "px";
                        }
                    }
                }

                oPrev.onclick = function () {
                    if (initialLength >= 0) {
                        if (initialLength > moveDistace) {
                            initialLength -= moveDistace
                            oSpecscrollBox.style.left = -initialLength + "px";
                        } else {
                            initialLength = 0;
                            oSpecscrollBox.style.left = -initialLength + "px";
                        }
                    }
                }


            }

            //03 缩略图的点击事件
            photoClick();
            function photoClick() {
                var oPhoto = document.querySelector(".outer .con .mainCon .previewWrap .preview .jqzoom img")
                var oSpecscroll = document.querySelectorAll(".outer .con .mainCon .previewWrap .specScroll .photoWrap .photo img ")
                for (var i = 0; i < oSpecscroll.length; i++) {

                    oSpecscroll[i].onclick = function () {
                        for (var i = 0; i < oSpecscroll.length; i++) {
                            if (oSpecscroll[i] == this) {
                                photoFir = i
                                oPhoto.src = this.src;
                            }
                        }
                    }
                }
            }




            //04 商品筛选详情 
            screening();
            function screening() {
                var oImodel = goodData.goodsDetail.crumbData;

                var oChooseArea = document.querySelector(".outer .con .mainCon .information .chooseArea .choose")
                oImodel.forEach(function (item, index, array) {
                    var oDl = document.createElement("dl");
                    var oDt = document.createElement("dt");
                    oDt.innerHTML = item.title;
                    oDl.appendChild(oDt);

                    item.data.forEach(function (item) {
                        var oDd = document.createElement("dd");
                        // var goodsPrice = item.setAttribute("item.changePrice")
                        oDd.setAttribute("changePrice", item.changePrice);
                        oDd.innerHTML = item.type;
                        oDl.appendChild(oDd)

                    })
                    oChooseArea.appendChild(oDl)


                })
                var oDl = oChooseArea.getElementsByTagName("dl")
                var arr = new Array(oImodel.length);
                arr.fill(0);


                for (var i = 0; i < oDl.length; i++) {
                    oDl[i].index = i;
                    ~function () {
                        var oDd = oDl[i].getElementsByTagName("dd");
                        for (var j = 0; j < oDd.length; j++) {
                            oDd[j].onclick = function () {
                                for (var i = 0; i < oDd.length; i++) {
                                    oDd[i].style.color = "#666";
                                }
                                this.style.color = "red";

                                arr[this.parentNode.index] = this;
                                // console.log(arr)
                                priceChange(arr)

                                var oCCCC = document.querySelector(".outer .con .mainCon .information .chooseArea .choose .creachoose");
                                oCCCC.innerHTML = "";

                                arr.forEach(function (item, index) {
                                    if (item) {
                                        var oMark = document.createElement("mark");
                                        oMark.innerHTML = item.innerHTML;
                                        var deA = document.createElement("a");
                                        deA.setAttribute("num", index)
                                        deA.innerHTML = "X";
                                        oMark.appendChild(deA)

                                        oCCCC.appendChild(oMark)
                                    }
                                })

                                var oChooa = oCCCC.querySelectorAll("mark a");
                                for (var i = 0; i < oChooa.length; i++) {
                                    oChooa[i].onclick = function () {
                                        var num = parseInt(this.getAttribute("num"));
                                        this.parentNode.parentNode.removeChild(this.parentNode);

                                        var oDlDd = oDl[num].querySelectorAll("dd")
                                        for (var i = 0; i < oDlDd.length; i++) {
                                            oDlDd[i].style.color = "#666";

                                        }
                                        oDl[num].querySelector("dd:nth-of-type(1)").style.color = "red";

                                        arr[num] = 0;
                                        priceChange(arr)
                                    }
                                }


                            }
                        }
                    }();

                }
                function priceChange(arr) {
                    var newPrice = goodData.goodsDetail.price * globalPrice;
                    arr.forEach(function (item, index) {
                        if (item) {
                            newPrice += parseInt(item.getAttribute("changePrice")) * globalPrice
                        }
                    })
                    var oPrice = document.querySelector(".outer .con .mainCon .information .infoma1 .priceArea .priceArea1 .price em ")
                    oPrice.innerHTML = newPrice

                    var downPrice = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .leftItem p ")
                    downPrice.innerHTML = "￥" + newPrice



                    var rigPrice = newPrice;
                    var rightPrice = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .result .pp2 ");
                    var seletItem = document.querySelectorAll(".outer .itemSuges .menuRight .menuBox .mainMenu .itemSuges .itemSuges1 label input[type=checkbox]");

                    seletItem.forEach(function (item) {
                        if (item.checked) {
                            // var getPriceV = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .itemSuges .itemSuges1 label input").value;
                            rigPrice += parseInt(item.value)
                        }
                    })
                    rightPrice.innerHTML = "￥" + rigPrice


                }


            }

            // 05 商品数量的交互
            goodsNum();
            function goodsNum() {
                var oMins = document.querySelector(".outer .con .mainCon .information .carWrap .pmt .mins ")
                var oPlus = document.querySelector(".outer .con .mainCon .information .carWrap .pmt .plus ")
                var itext = document.querySelector(".outer .con .mainCon .information .carWrap .pmt .itext")

                oPlus.onclick = function () {
                    globalPrice++;
                    itext.value = globalPrice;
                    var newPrice = document.querySelector(".outer .con .mainCon .information .infoma1 .priceArea .priceArea1 .price em ")
                    var goodSPrice = newPrice.innerHTML / (globalPrice - 1) * globalPrice;
                    newPrice.innerHTML = goodSPrice;

                    copyPrice(goodSPrice);
                }
                oMins.onclick = function () {
                    if (globalPrice > 1) {
                        globalPrice--;
                        itext.value = globalPrice;
                        var newPrice = document.querySelector(".outer .con .mainCon .information .infoma1 .priceArea .priceArea1 .price em ")
                        var goodSPrice = newPrice.innerHTML / (globalPrice + 1) * globalPrice;
                        newPrice.innerHTML = goodSPrice

                        copyPrice(goodSPrice);
                    }
                }

                function copyPrice(goodSPrice) {
                    var leftPrice = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .leftItem p ")
                    leftPrice.innerHTML = "￥" + goodSPrice;

                    // var rigPrice = newPrice;
                    var rightPrice = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .result .pp2 ");
                    var seletItem = document.querySelectorAll(".outer .itemSuges .menuRight .menuBox .mainMenu .itemSuges .itemSuges1 label input[type=checkbox]");

                    seletItem.forEach(function (item) {
                        if (item.checked) {
                            // var getPriceV = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .itemSuges .itemSuges1 label input").value;
                            rigPrice += parseInt(item.value)
                        }
                    })
                    rightPrice.innerHTML = "￥" + rigPrice


                }




            }

            //06 路径导航生成
            pathUrl();
            function pathUrl() {
                var conPoin = document.querySelector(".outer .con .conPoin");
                var uRl = goodData.path;
                uRl.forEach(function (item, index) {
                    var oA = document.createElement("a");
                    if (index === uRl.length - 1) {
                        oA.innerHTML = item.title
                        conPoin.appendChild(oA)
                    } else {
                        oA.innerHTML = item.title
                        oA.href = item.href
                        conPoin.appendChild(oA)
                    }
                })
            }

            //07 商品详情的数据动态生成
            goodsDetail();
            function goodsDetail() {
                var oInfoma1 = document.querySelector(".outer .con .mainCon .information .infoma1 ");
                var whatCon = goodData.goodsDetail;

                var oContent = ` 
                        <h2 class="titleA">${whatCon.title}</h2>
                        <p class="suges">${whatCon.recommend}</p>
                        <div class="priceArea">
                            <div class="priceArea1">
                                <div class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</div>
                                <div class="price">
                                    <i>￥</i>
                                    <em>${whatCon.price}</em>
                                    <span>降价通知</span>
                                </div>
                                <div class="comment">
                                    <i>累计评论</i>
                                    <span>${whatCon.evaluateNum}</span>
                                </div>

                            </div>
                            <div class="priceArea2">
                                <div class="title2">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</div>
                                <div class="addPrice">
                                    <div class="plusbuy">${whatCon.promoteSales.type}</div>
                                    <div class="saleMassage">${whatCon.promoteSales.content}</div>
                                </div>
                            </div>
                        </div>

                        <div class="support">
                            <div class="supportArea">
                                <div class="sutitle">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</div>
                                <div class="slogan">${whatCon.support}</div>
                            </div>

                            <div class="deliver">
                                <div class="deliverTo">配&nbsp;&nbsp;送&nbsp;&nbsp;至</div>
                                <div class="zone">${whatCon.address}</div>
                            </div>
                        </div>`
                oInfoma1.innerHTML = oContent;
            }

            //08 选项卡功能
            // TabBar(); 
            function TabBar(btn, content) {
                this.tabB = btn;
                this.contentB = content;

                for (var i = 0; i < this.tabB.length; i++) {
                    this.tabB[i].index = i;
                    var outThis = this;
                    this.tabB[i].onclick = function () {
                        outThis.clicktabB(this);
                    }
                }
            }
            TabBar.prototype.clicktabB = function (btn) {

                for (var i = 0; i < this.tabB.length; i++) {
                    this.tabB[i].className = "";
                    this.contentB[i].style.display = "none";
                }
                btn.className = "active";
                this.contentB[btn.index].style.display = "block";
            }

            hitWrap();
            function hitWrap() {
                var hB = document.querySelectorAll(".title2 h4");
                var hC = document.querySelectorAll(".contentBar .brand")
                // console.log(hB)

                new TabBar(hB, hC);
            }

            //09 内容区的选项卡功能
            mainWrap();
            function mainWrap() {
                var hD = document.querySelectorAll(".outer .itemSuges .menuRight .introdu .introBar li ")
                var hE = document.querySelectorAll(".outer .itemSuges .menuRight .itemDetail .itemDetailList .itemDetail")
                new TabBar(hD, hE);
            }

            //10 选择框价格搭配功能
            plusMoney();
            function plusMoney() {
                var rightPrice = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .result .pp2 ");
                var seletItem = document.querySelectorAll(".outer .itemSuges .menuRight .menuBox .mainMenu .itemSuges .itemSuges1 label input[type=checkbox]");
                seletItem.forEach(function (item, index) {
                    item.onchange = function () {
                        var downPrice = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .leftItem p ")
                        var rigPrice = parseInt(downPrice.innerHTML.substr(1))

                        seletItem.forEach(function (item) {
                            if (item.checked) {
                                // var getPriceV = document.querySelector(".outer .itemSuges .menuRight .menuBox .mainMenu .itemSuges .itemSuges1 label input").value;
                                rigPrice += parseInt(item.value)
                            }
                        })
                        rightPrice.innerHTML = "￥" + rigPrice

                    }
                })

            }




            //last 添加购物车 跳转功能
            addCarCar();
            function addCarCar() {
                var btn = document.querySelector('.outer .con .mainCon .information .carWrap .addToCar');
                btn.onclick = function () {
                    // {
                    //     goodImg: "./images/goods1.png",
                    //     goodTitle: "米家（MIJIA） 小米小白智能摄像机增强版 1080p高清360度全景拍摄AI增强",
                    //     goodTxt: "语音升级款",
                    //     goodPrice: "399.00",
                    //     goodNum: 1,
                    // },
                    var goodImg = "./images/s1.png";
                    var goodTitle = document.querySelector('.outer .con .mainCon .information .infoma1 .titleA ').innerHTML;
                    var goodTxt = "IRON MAN"
                    var goodPrice = document.querySelector('.outer .con .mainCon .information .infoma1 .priceArea .priceArea1 .price em ').innerHTML
                    var goodNum = document.querySelector('.outer .con .mainCon .information .carWrap .pmt .itext').value;

                    var newMassage = {
                        goodImg: goodImg,
                        goodTitle: goodTitle,
                        goodTxt: goodTxt,
                        goodPrice: goodPrice,
                        goodNum: goodNum
                    }
                    localStorage.setItem("newMassage", JSON.stringify(newMassage))




                    location.href = "./shopcar.html";

                }
            }


        })
    </script>
    <!-- <script src="jquery-2.1.4/jquery.js"></script>
    <script>

        $(".outer .itemSuges .outBoxs .title2 h4").click(function () {
            $(this).addClass("active").siblings().removeClass("active");
            $("")
        })

    </script> -->

</body>


</html>